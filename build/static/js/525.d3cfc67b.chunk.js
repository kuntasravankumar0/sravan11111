"use strict";(self.webpackChunkmysite3=self.webpackChunkmysite3||[]).push([[525],{525:(e,s,i)=>{i.r(s),i.d(s,{default:()=>c});var a=i(555),r=i(43),l=i(163),t=i(898),n=i(579);const c=function(e){let{onSuccess:s}=e;const i=(0,l.Zp)(),[c,o]=(0,r.useState)({name:"",email:"",mobileNumber:""}),[d,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)({}),[v,b]=(0,r.useState)(""),[j,N]=(0,r.useState)(0),[g,f]=(0,r.useState)(!1),y=(e,s)=>{o(i=>(0,a.A)((0,a.A)({},i),{},{[e]:"mobileNumber"===e?s.replace(/\D/g,""):s})),p[e]&&x(s=>(0,a.A)((0,a.A)({},s),{},{[e]:""})),m("")};return(0,n.jsxs)("div",{className:"login-container",children:[(0,n.jsxs)("div",{className:"login-header",children:[(0,n.jsx)("h2",{children:"Create Your Account"}),(0,n.jsx)("p",{children:"Fill in your details to get started"})]}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u)return;if(!(()=>{const e={};var s;return c.name.trim()?c.name.trim().length<2&&(e.name="Name must be at least 2 characters"):e.name="Name is required",c.email.trim()?(s=c.email.trim(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(e.email="Please enter a valid email address")):e.email="Email is required",c.mobileNumber.trim()?/^\d{10}$/.test(c.mobileNumber.trim())||(e.mobileNumber="Mobile number must be exactly 10 digits"):e.mobileNumber="Mobile number is required",x(e),0===Object.keys(e).length})())return void m("Please fix the errors above");h(!0),b("Validating information...");const i=(()=>{N(0);const e=setInterval(()=>{N(s=>s>=90?(clearInterval(e),90):s+15)},200);return e})();try{var a,r;b("Creating your account...");const e={username:c.name.trim(),useremail:c.email.trim(),number:c.mobileNumber.trim()},l=await(0,t.kg)(e);if(clearInterval(i),N(100),b("Account created successfully!"),!0===(null===(a=l.data)||void 0===a?void 0:a.status))return m("\u2705 Account created successfully! Customer ID: ".concat(l.data.customerId)),o({name:"",email:"",mobileNumber:""}),void(s&&setTimeout(()=>{s()},2e3));const n=(null===(r=l.data)||void 0===r?void 0:r.message)||"Unknown backend error";n.toLowerCase().includes("email")?(m("\u26a0 Email address already exists. Please use a different email."),x({email:"This email is already registered"})):n.toLowerCase().includes("number")?(m("\u26a0 Mobile number already exists. Please use a different number."),x({mobileNumber:"This mobile number is already registered"})):m("\u274c Failed: ".concat(n))}catch(p){var l,n,d;clearInterval(i),N(0),console.error("CREATE USER ERROR:",p);let e="Failed to create account";"ECONNABORTED"===p.code?e="Connection timeout. Please try again.":409===(null===(l=p.response)||void 0===l?void 0:l.status)?e="User already exists with this information":null!==(n=p.response)&&void 0!==n&&null!==(d=n.data)&&void 0!==d&&d.message?e=p.response.data.message:navigator.onLine||(e="No internet connection"),m("\u274c ".concat(e)),b("Error occurred")}finally{h(!1)}},className:"login-form",children:[(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,n.jsxs)("div",{className:"input-wrapper",children:[(0,n.jsx)("input",{id:"name",type:"text",value:c.name,onChange:e=>y("name",e.target.value),disabled:u,className:p.name?"error":"",placeholder:"Enter your full name",required:!0}),(0,n.jsx)("div",{className:"input-icon",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})]}),p.name&&(0,n.jsx)("span",{className:"error-text",children:p.name})]}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,n.jsxs)("div",{className:"input-wrapper",children:[(0,n.jsx)("input",{id:"email",type:"email",value:c.email,onChange:e=>y("email",e.target.value),disabled:u,className:p.email?"error":"",placeholder:"Enter your email address",required:!0}),(0,n.jsx)("div",{className:"input-icon",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})})]}),p.email&&(0,n.jsx)("span",{className:"error-text",children:p.email})]}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"mobile",children:"Mobile Number"}),(0,n.jsxs)("div",{className:"input-wrapper",children:[(0,n.jsx)("input",{id:"mobile",type:"text",value:c.mobileNumber,onChange:e=>y("mobileNumber",e.target.value),disabled:u,maxLength:"10",className:p.mobileNumber?"error":"",placeholder:"Enter 10-digit mobile number",required:!0}),(0,n.jsx)("div",{className:"input-icon",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})})})]}),p.mobileNumber&&(0,n.jsx)("span",{className:"error-text",children:p.mobileNumber})]}),u&&(0,n.jsxs)("div",{className:"loading-section",children:[(0,n.jsxs)("div",{className:"progress-container",children:[(0,n.jsx)("div",{className:"progress-bar",children:(0,n.jsx)("div",{className:"progress-fill",style:{width:"".concat(j,"%")}})}),(0,n.jsxs)("div",{className:"progress-text",children:[j,"%"]})]}),(0,n.jsx)("div",{className:"step-text",children:v})]}),(0,n.jsx)("button",{type:"submit",disabled:u,className:"submit-button",children:u?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"spinner"}),"Creating Account..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),"Create Account"]})})]}),d&&(0,n.jsx)("div",{className:"message ".concat(d.startsWith("\u2705")?"success":d.startsWith("\u26a0")?"warning":"error"),children:d}),(0,n.jsxs)("div",{className:"more-options-section",children:[(0,n.jsxs)("button",{className:"more-options-toggle",onClick:()=>f(!g),children:[g?"\u25bc":"\u25b6"," More Options"]}),g&&(0,n.jsxs)("div",{className:"more-options-content",children:[(0,n.jsxs)("div",{className:"option-item",onClick:()=>i("/fix-my-speaker"),children:[(0,n.jsx)("div",{className:"option-icon",children:"\ud83d\udd0a"}),(0,n.jsxs)("div",{className:"option-details",children:[(0,n.jsx)("h4",{children:"Fix My Speaker"}),(0,n.jsx)("p",{children:"Audio-based speaker repair tool"})]})]}),(0,n.jsxs)("div",{className:"option-item",onClick:()=>i("/AdminLoginPage"),children:[(0,n.jsx)("div",{className:"option-icon",children:"\ud83d\udc6e"}),(0,n.jsxs)("div",{className:"option-details",children:[(0,n.jsx)("h4",{children:"Admin Login"}),(0,n.jsx)("p",{children:"Access admin dashboard"})]})]}),(0,n.jsxs)("div",{className:"option-item",onClick:()=>i("/Helpall"),children:[(0,n.jsx)("div",{className:"option-icon",children:"\u2753"}),(0,n.jsxs)("div",{className:"option-details",children:[(0,n.jsx)("h4",{children:"Help & Support"}),(0,n.jsx)("p",{children:"Get assistance and FAQ"})]})]})]})]})]})}},898:(e,s,i)=>{i.d(s,{CF:()=>n,Og:()=>m,TK:()=>o,WE:()=>c,hG:()=>d,kg:()=>t});var a=i(722),r=i(383);const l="".concat(r.A,"/api/users"),t=e=>a.A.post("".concat(l,"/create"),e),n=()=>a.A.get("".concat(l,"/all")),c=e=>a.A.get("".concat(l,"/getbynumber/").concat(e)),o=(e,s)=>a.A.put("".concat(l,"/update/").concat(e),s),d=e=>a.A.delete("".concat(l,"/delete/").concat(e)),m=(e,s)=>a.A.post("".concat(l,"/check"),{email:e,number:s})}}]);
//# sourceMappingURL=525.d3cfc67b.chunk.js.map