{"version":3,"file":"static/js/121.aa07b335.chunk.js","mappings":"4JAIe,SAASA,IACpB,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,IAC9BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAcC,IAAmBJ,EAAAA,EAAAA,WAAS,IAC1CK,EAASC,IAAcN,EAAAA,EAAAA,UAAS,CAAEO,KAAM,GAAIC,KAAM,MAClDC,EAAMC,IAAWV,EAAAA,EAAAA,UAAS,OAEjCW,EAAAA,EAAAA,WAAU,KACN,MAAMC,EAAaC,aAAaC,QAAQ,eAAiBD,aAAaC,QAAQ,cAC9E,GAAIF,EACA,IACIF,EAAQK,KAAKC,MAAMJ,GACvB,CAAE,MAAOK,GACLC,QAAQC,MAAM,0BAA2BF,EAC7C,GAEL,IAuCH,OACIG,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6BAA4BC,UACvCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kBAAiBC,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kCACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,+EAGPC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,0BACJF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SACzB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGE,IAAIC,IACjBL,EAAAA,EAAAA,KAAA,QAEIC,UAAS,aAAAK,OAAe5B,GAAU2B,EAAO,SAAW,IACpDE,QAASA,IAAM5B,EAAU0B,GAAMH,SAClC,UAHQG,UAUrBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC1BF,EAAAA,EAAAA,KAAA,YACIQ,MAAO3B,EACP4B,SAAWC,GAAM5B,EAAY4B,EAAEC,OAAOH,OACtCI,YAAY,oDACZX,UAAU,wBAIjBhB,EAAQG,OACLY,EAAAA,EAAAA,KAAA,OAAKC,UAAS,oBAAAK,OAAsBrB,EAAQE,MAAOe,SAC9CjB,EAAQG,QAIjBY,EAAAA,EAAAA,KAAA,UACIO,QA5EKM,UACjB,GAAKnC,GAAWG,EAASiC,OAKzB,GAAKzB,EAAL,CAKAL,GAAgB,GAChBE,EAAW,CAAEC,KAAM,GAAIC,KAAM,KAE7B,IACI,MAAM2B,EAAU,CACZC,OAAQ3B,EAAK4B,UAAY5B,EAAK6B,QAAUzB,aAAaC,QAAQ,cAC7DyB,aAAc9B,EAAK4B,SAAW,SAAW,SACzCpC,SAAS,YAADyB,OAAc5B,EAAM,QAAA4B,OAAOzB,IAGjCuC,QAAiBC,EAAAA,EAAAA,IAAeN,GAClCK,EAASE,KAAKC,QACdrC,EAAW,CAAEC,KAAM,UAAWC,KAAM,6DACpCT,EAAU,GACVG,EAAY,KAEZI,EAAW,CAAEC,KAAM,QAASC,KAAMgC,EAASE,KAAKrC,SAAW,8BAEnE,CAAE,MAAOY,GACLX,EAAW,CAAEC,KAAM,QAASC,KAAM,kDAClCU,QAAQC,MAAMF,EAClB,CAAC,QACGb,GAAgB,EACpB,CAzBA,MAFIE,EAAW,CAAEC,KAAM,QAASC,KAAM,0CALlCF,EAAW,CAAEC,KAAM,QAASC,KAAM,8CA2E1BoC,SAAUzC,EACVkB,UAAU,sBAAqBC,SAE9BnB,EAAe,aAAe,mCAKnD,C","sources":["myproject/pages/FeedbackPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { submitFeedback } from '../../api/device/deviceApi';\nimport './FeedbackPage.css';\n\nexport default function FeedbackPage() {\n    const [rating, setRating] = useState(0);\n    const [feedback, setFeedback] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [message, setMessage] = useState({ type: '', text: '' });\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        const storedUser = localStorage.getItem(\"googleUser\") || localStorage.getItem(\"headerUser\");\n        if (storedUser) {\n            try {\n                setUser(JSON.parse(storedUser));\n            } catch (err) {\n                console.error(\"Error parsing user data\", err);\n            }\n        }\n    }, []);\n\n    const handleSubmit = async () => {\n        if (!rating || !feedback.trim()) {\n            setMessage({ type: 'error', text: 'Please provide both rating and feedback.' });\n            return;\n        }\n\n        if (!user) {\n            setMessage({ type: 'error', text: 'Please login to submit feedback.' });\n            return;\n        }\n\n        setIsSubmitting(true);\n        setMessage({ type: '', text: '' });\n\n        try {\n            const payload = {\n                userId: user.googleId || user.number || localStorage.getItem(\"userNumber\"),\n                authProvider: user.googleId ? \"GOOGLE\" : \"MANUAL\",\n                feedback: `[Rating: ${rating}/5] ${feedback}`\n            };\n\n            const response = await submitFeedback(payload);\n            if (response.data.status) {\n                setMessage({ type: 'success', text: 'Thank you! Your feedback has been saved to your profile.' });\n                setRating(0);\n                setFeedback('');\n            } else {\n                setMessage({ type: 'error', text: response.data.message || 'Failed to submit feedback.' });\n            }\n        } catch (err) {\n            setMessage({ type: 'error', text: 'Error connecting to server. Please try again.' });\n            console.error(err);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    return (\n        <div className=\"feedback-premium-container\">\n            <div className=\"feedback-glass-card\">\n                <div className=\"feedback-header\">\n                    <h1>Your Feedback Matters âœ¨</h1>\n                    <p>Help us improve the platform for everyone. Your thoughts are valuable.</p>\n                </div>\n\n                <div className=\"rating-section\">\n                    <h3>Rate your experience</h3>\n                    <div className=\"stars-wrapper\">\n                        {[1, 2, 3, 4, 5].map(star => (\n                            <span\n                                key={star}\n                                className={`star-icon ${rating >= star ? 'active' : ''}`}\n                                onClick={() => setRating(star)}\n                            >\n                                â˜…\n                            </span>\n                        ))}\n                    </div>\n                </div>\n\n                <div className=\"input-section\">\n                    <textarea\n                        value={feedback}\n                        onChange={(e) => setFeedback(e.target.value)}\n                        placeholder=\"What can we do better? Any suggestions or issues?\"\n                        className=\"feedback-textarea\"\n                    />\n                </div>\n\n                {message.text && (\n                    <div className={`feedback-message ${message.type}`}>\n                        {message.text}\n                    </div>\n                )}\n\n                <button\n                    onClick={handleSubmit}\n                    disabled={isSubmitting}\n                    className=\"submit-feedback-btn\"\n                >\n                    {isSubmitting ? 'Sending...' : 'Send Feedback ðŸš€'}\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"names":["FeedbackPage","rating","setRating","useState","feedback","setFeedback","isSubmitting","setIsSubmitting","message","setMessage","type","text","user","setUser","useEffect","storedUser","localStorage","getItem","JSON","parse","err","console","error","_jsx","className","children","_jsxs","map","star","concat","onClick","value","onChange","e","target","placeholder","async","trim","payload","userId","googleId","number","authProvider","response","submitFeedback","data","status","disabled"],"ignoreList":[],"sourceRoot":""}