"use strict";(self.webpackChunkmysite3=self.webpackChunkmysite3||[]).push([[121],{121:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var s=t(43),r=t(472),c=t(579);function o(){const[e,a]=(0,s.useState)(0),[t,o]=(0,s.useState)(""),[n,l]=(0,s.useState)(!1),[i,d]=(0,s.useState)({type:"",text:""}),[u,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=localStorage.getItem("googleUser")||localStorage.getItem("headerUser");if(e)try{h(JSON.parse(e))}catch(a){console.error("Error parsing user data",a)}},[]);return(0,c.jsx)("div",{className:"feedback-premium-container",children:(0,c.jsxs)("div",{className:"feedback-glass-card",children:[(0,c.jsxs)("div",{className:"feedback-header",children:[(0,c.jsx)("h1",{children:"Your Feedback Matters \u2728"}),(0,c.jsx)("p",{children:"Help us improve the platform for everyone. Your thoughts are valuable."})]}),(0,c.jsxs)("div",{className:"rating-section",children:[(0,c.jsx)("h3",{children:"Rate your experience"}),(0,c.jsx)("div",{className:"stars-wrapper",children:[1,2,3,4,5].map(t=>(0,c.jsx)("span",{className:"star-icon ".concat(e>=t?"active":""),onClick:()=>a(t),children:"\u2605"},t))})]}),(0,c.jsx)("div",{className:"input-section",children:(0,c.jsx)("textarea",{value:t,onChange:e=>o(e.target.value),placeholder:"What can we do better? Any suggestions or issues?",className:"feedback-textarea"})}),i.text&&(0,c.jsx)("div",{className:"feedback-message ".concat(i.type),children:i.text}),(0,c.jsx)("button",{onClick:async()=>{if(e&&t.trim())if(u){l(!0),d({type:"",text:""});try{const s={userId:u.googleId||u.number||localStorage.getItem("userNumber"),authProvider:u.googleId?"GOOGLE":"MANUAL",feedback:"[Rating: ".concat(e,"/5] ").concat(t)},c=await(0,r.Wz)(s);c.data.status?(d({type:"success",text:"Thank you! Your feedback has been saved to your profile."}),a(0),o("")):d({type:"error",text:c.data.message||"Failed to submit feedback."})}catch(s){d({type:"error",text:"Error connecting to server. Please try again."}),console.error(s)}finally{l(!1)}}else d({type:"error",text:"Please login to submit feedback."});else d({type:"error",text:"Please provide both rating and feedback."})},disabled:n,className:"submit-feedback-btn",children:n?"Sending...":"Send Feedback \ud83d\ude80"})]})})}}}]);
//# sourceMappingURL=121.aa07b335.chunk.js.map