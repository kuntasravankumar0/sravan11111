"use strict";(self.webpackChunkmysite3=self.webpackChunkmysite3||[]).push([[499],{499:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(555),r=a(43),s=a(163),o=a(447);class i extends Error{}function c(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}(t)}catch(a){return atob(t)}}i.prototype.name="InvalidTokenError";var l=a(736),u=a(898),d=a(579);const m=function(){const[e,t]=(0,r.useState)(""),[a,m]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[p,v]=(0,r.useState)(!1),[f,b]=(0,r.useState)(""),[y,A]=(0,r.useState)(""),[x,N]=(0,r.useState)(""),j=(0,s.Zp)(),S=(0,r.useRef)(null),k=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);return(0,d.jsxs)("div",{className:"auth-page",children:[(0,d.jsxs)("div",{className:"container",id:"container",ref:S,children:[(0,d.jsx)("div",{className:"form-container sign-up-container",children:(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!p)if(f&&k(y)&&/^\d{10}$/.test(x)){v(!0),g("\ud83d\udcdd Creating your account...");try{const e=await(0,u.kg)({username:f,useremail:y,number:x,status:"ONLINE",authProvider:"MANUAL"});if(e.data.status){g("\u2705 Account created successfully!");const t=e.data.data;localStorage.setItem("headerUser",JSON.stringify({name:t.username,email:t.useremail,number:t.number,authProvider:"MANUAL"})),localStorage.setItem("userNumber",t.number),setTimeout(()=>j("/LoginEdit",{state:(0,n.A)((0,n.A)({},t),{},{authProvider:"MANUAL"})}),1500)}else g("\u274c "+e.data.message)}catch(r){var t,a;console.error(r);const e=(null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Account creation failed.";g("\u274c "+e)}finally{v(!1)}}else g("\u26a0 Please fill all fields correctly")},children:[(0,d.jsx)("h1",{children:"Create Account"}),(0,d.jsx)("span",{children:"Join our professional network"}),(0,d.jsx)("input",{type:"text",placeholder:"Full Name",value:f,onChange:e=>b(e.target.value)}),(0,d.jsx)("input",{type:"email",placeholder:"Email",value:y,onChange:e=>A(e.target.value)}),(0,d.jsx)("input",{type:"text",placeholder:"Number",value:x,onChange:e=>N(e.target.value)}),(0,d.jsx)("button",{type:"submit",disabled:p,children:p?"...":"Sign Up"})]})}),(0,d.jsx)("div",{className:"form-container sign-in-container",children:(0,d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!p)if(k(e)&&/^\d{10}$/.test(a)){v(!0),g("\ud83d\udd0d Validating credentials...");try{const t=await(0,u.Og)(e,a),{type:r,data:s,message:o}=t.data;"both"===r?(g("\u2705 Login successful!"),localStorage.setItem("headerUser",JSON.stringify({name:s.username,email:s.useremail,image:null,number:s.number,authProvider:"MANUAL"})),localStorage.setItem("userNumber",s.number),await(0,u.TK)(s.number,(0,n.A)((0,n.A)({},s),{},{status:"ONLINE"})).catch(e=>console.error(e)),setTimeout(()=>j("/LoginEdit",{state:(0,n.A)((0,n.A)({},s),{},{authProvider:"MANUAL"})}),1e3)):g("mismatch"===r?"\ud83d\uded1 "+o:"email"===r?"\ud83d\uded1 This email is linked to another mobile number.":"number"===r?"\ud83d\uded1 This mobile number is linked to another email.":"\u2753 Account not found. Would you like to Sign Up?")}catch(r){console.error(r),g("\u274c Server communication error.")}finally{v(!1)}}else g("\u26a0 Please enter a valid email and 10-digit number")},children:[(0,d.jsx)("h1",{children:"Sign In"}),(0,d.jsx)("div",{className:"google-btn-container",children:(0,d.jsx)(o.j,{onSuccess:async e=>{try{const t=function(e,t){if("string"!==typeof e)throw new i("Invalid token specified: must be a string");t||(t={});const a=!0===t.header?0:1,n=e.split(".")[a];if("string"!==typeof n)throw new i("Invalid token specified: missing part #".concat(a+1));let r;try{r=c(n)}catch(s){throw new i("Invalid token specified: invalid base64 for part #".concat(a+1," (").concat(s.message,")"))}try{return JSON.parse(r)}catch(s){throw new i("Invalid token specified: invalid json for part #".concat(a+1," (").concat(s.message,")"))}}(e.credential);v(!0),g("\u26a1 Authenticating Google Profile...");const a={googleId:t.sub,name:t.name,email:t.email,picture:t.picture,authProvider:"GOOGLE",status:"ONLINE"},r=await(0,l.EY)(a);if(r.data.status){const e=r.data.data;g("\u2705 Success! Welcome "+e.name),localStorage.setItem("headerUser",JSON.stringify({name:e.name,email:e.email,image:e.picture,authProvider:"GOOGLE"})),localStorage.setItem("googleUser",JSON.stringify(e)),setTimeout(()=>j("/LoginEdit",{state:(0,n.A)((0,n.A)({},e),{},{authProvider:"GOOGLE"})}),1e3)}}catch(t){g("\u274c Google Auth Failed"),console.error(t)}finally{v(!1)}},onError:()=>g("\u274c Google Login Failed")})}),(0,d.jsx)("span",{children:"or use your account"}),(0,d.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value)}),(0,d.jsx)("input",{type:"text",placeholder:"Mobile Number",value:a,onChange:e=>m(e.target.value)}),(0,d.jsx)("button",{type:"submit",disabled:p,children:p?"Wait...":"Sign In"})]})}),(0,d.jsx)("div",{className:"overlay-container",children:(0,d.jsxs)("div",{className:"overlay",children:[(0,d.jsxs)("div",{className:"overlay-panel overlay-left",children:[(0,d.jsx)("h1",{children:"Welcome Back!"}),(0,d.jsx)("p",{children:"Keep connected with your personal info"}),(0,d.jsx)("button",{className:"ghost",onClick:()=>{S.current&&(S.current.classList.remove("right-panel-active"),g(""))},children:"Sign In"})]}),(0,d.jsxs)("div",{className:"overlay-panel overlay-right",children:[(0,d.jsx)("h1",{children:"Hello, Friend!"}),(0,d.jsx)("p",{children:"Enter your details and start your journey"}),(0,d.jsx)("button",{className:"ghost",onClick:()=>{S.current&&(S.current.classList.add("right-panel-active"),g(""))},children:"Sign Up"})]})]})})]}),h&&(0,d.jsx)("div",{className:"status-toast ".concat(h.includes("\u2705")?"success":"error"),children:h})]})}},736:(e,t,a)=>{a.d(t,{EY:()=>l,Jo:()=>c,bN:()=>i,qp:()=>d,tx:()=>u});var n=a(722),r=a(383);const s="".concat(r.A,"/api/googleinfo"),o="".concat(r.A,"/api/Adminaprovel"),i=e=>n.A.post("".concat(o,"/login"),e),c=e=>n.A.post("".concat(o,"/register"),e),l=e=>n.A.post("".concat(s),e),u=()=>n.A.get("".concat(s)),d=e=>n.A.delete("".concat(s,"/").concat(e))},898:(e,t,a)=>{a.d(t,{CF:()=>i,Og:()=>d,TK:()=>l,WE:()=>c,hG:()=>u,kg:()=>o});var n=a(722),r=a(383);const s="".concat(r.A,"/api/users"),o=e=>n.A.post("".concat(s,"/create"),e),i=()=>n.A.get("".concat(s,"/all")),c=e=>n.A.get("".concat(s,"/getbynumber/").concat(e)),l=(e,t)=>n.A.put("".concat(s,"/update/").concat(e),t),u=e=>n.A.delete("".concat(s,"/delete/").concat(e)),d=(e,t)=>n.A.post("".concat(s,"/check"),{email:e,number:t})}}]);
//# sourceMappingURL=499.62126dca.chunk.js.map