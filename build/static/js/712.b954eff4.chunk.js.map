{"version":3,"file":"static/js/712.b954eff4.chunk.js","mappings":"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","sources":["api/media/mediaApi.js","myproject/components/CommentApproval.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport BACKUP_API from \"../../myproject/config/apiConfig\";\r\n\r\nconst LINKS_API = `${BACKUP_API}/api/links`;\r\nconst COMMENTS_API = `${BACKUP_API}/api/comments`;\r\n\r\n// Link Management API\r\nexport const getPendingLinks = () => axios.get(`${LINKS_API}/pending`);\r\nexport const getAllLinks = () => axios.get(`${LINKS_API}/all`);\r\nexport const getLinkByNumber = (number) => axios.get(`${LINKS_API}/getby/${number}`);\r\nexport const createLink = (data) => axios.post(`${LINKS_API}/create`, data);\r\nexport const updateLink = (number, data) => axios.put(`${LINKS_API}/update/${number}`, data);\r\nexport const approveLink = (linkId) => axios.put(`${LINKS_API}/${linkId}/approve`);\r\nexport const rejectLink = (linkId) => axios.put(`${LINKS_API}/${linkId}/reject`);\r\nexport const deleteLink = (linkId) => axios.delete(`${LINKS_API}/${linkId}`);\r\nexport const deleteLinkByNumber = (number) => axios.delete(`${LINKS_API}/delete/${number}`);\r\n\r\n// Comments APIs\r\nexport const getPendingComments = () => axios.get(`${COMMENTS_API}/pending`);\r\nexport const getAllComments = () => axios.get(`${COMMENTS_API}/all`);\r\nexport const approveComment = (id) => axios.put(`${COMMENTS_API}/approve/${id}`); // Fixed URL to match Backend\r\nexport const rejectComment = (id) => axios.put(`${COMMENTS_API}/reject/${id}`);   // Fixed URL to match Backend\r\nexport const deleteComment = (id) => axios.delete(`${COMMENTS_API}/delete/${id}`); // Fixed URL to match Backend\r\nexport const createComment = (commentData) => axios.post(`${COMMENTS_API}/submit`, commentData); // Fixed URL to match Backend\r\n","import React, { useState, useEffect, useCallback } from 'react';\nimport \"./CommentApproval.css\";\nimport { getPendingComments, getAllComments, approveComment, rejectComment, deleteComment } from \"../../api/media/mediaApi\";\n\nconst CommentApproval = () => {\n  const [pendingComments, setPendingComments] = useState([]);\n  const [allComments, setAllComments] = useState([]);\n  const [activeTab, setActiveTab] = useState('pending');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [actionLoading, setActionLoading] = useState({});\n\n  const fetchPendingComments = useCallback(async () => {\n    try {\n      const response = await getPendingComments();\n      setPendingComments(response.data);\n    } catch (error) {\n      console.error('Error fetching pending comments:', error);\n    }\n  }, []);\n\n  const fetchAllComments = useCallback(async () => {\n    try {\n      const response = await getAllComments();\n      setAllComments(response.data);\n    } catch (error) {\n      console.error('Error fetching all comments:', error);\n    }\n  }, []);\n\n  const fetchComments = useCallback(async () => {\n    setLoading(true);\n    try {\n      await Promise.all([fetchPendingComments(), fetchAllComments()]);\n      setError('');\n    } catch (error) {\n      setError('Failed to load comments');\n    } finally {\n      setLoading(false);\n    }\n  }, [fetchPendingComments, fetchAllComments]);\n\n  useEffect(() => {\n    fetchComments();\n  }, [fetchComments]);\n\n  const handleAction = async (commentId, action) => {\n    setActionLoading(prev => ({ ...prev, [commentId]: action }));\n\n    try {\n      let response;\n      if (action === 'approve') {\n        response = await approveComment(commentId);\n      } else if (action === 'reject') {\n        response = await rejectComment(commentId);\n      }\n\n      if (response.data.status) {\n        await fetchComments();\n      } else {\n        setError(response.data.message || `Failed to ${action} comment`);\n      }\n    } catch (error) {\n      setError(`Error ${action}ing comment`);\n      console.error('Error:', error);\n    } finally {\n      setActionLoading(prev => ({ ...prev, [commentId]: null }));\n    }\n  };\n\n  const handleDelete = async (commentId) => {\n    if (!window.confirm('Are you sure you want to delete this comment?')) {\n      return;\n    }\n\n    setActionLoading(prev => ({ ...prev, [commentId]: 'delete' }));\n\n    try {\n      const response = await deleteComment(commentId);\n\n      if (response.data.status) {\n        await fetchComments();\n      } else {\n        setError(response.data.message || 'Failed to delete comment');\n      }\n    } catch (error) {\n      setError('Error deleting comment');\n      console.error('Error:', error);\n    } finally {\n      setActionLoading(prev => ({ ...prev, [commentId]: null }));\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStatusBadge = (status) => {\n    const statusClass = status.toLowerCase();\n    return <span className={`status-badge ${statusClass}`}>{status}</span>;\n  };\n\n  if (loading) {\n    return <div className=\"approval-container loading\">Loading comments...</div>;\n  }\n\n  const currentComments = activeTab === 'pending' ? pendingComments : allComments;\n\n  return (\n    <div className=\"approval-container\">\n      <h2>Comment Management</h2>\n\n      <div className=\"tabs\">\n        <button\n          className={`tab ${activeTab === 'pending' ? 'active' : ''}`}\n          onClick={() => setActiveTab('pending')}\n        >\n          Pending ({pendingComments.length})\n        </button>\n        <button\n          className={`tab ${activeTab === 'all' ? 'active' : ''}`}\n          onClick={() => setActiveTab('all')}\n        >\n          All Comments ({allComments.length})\n        </button>\n      </div>\n\n      {error && <div className=\"error-message\">{error}</div>}\n\n      <div className=\"comments-container\">\n        {currentComments.length === 0 ? (\n          <div className=\"no-comments\">\n            <p>No {activeTab === 'pending' ? 'pending' : ''} comments found.</p>\n          </div>\n        ) : (\n          <div className=\"comments-grid\">\n            {currentComments.map((comment) => (\n              <div key={comment.id} className=\"comment-card\">\n                <div className=\"comment-header\">\n                  <div className=\"comment-info\">\n                    <strong>{comment.name}</strong>\n                    {activeTab === 'all' && getStatusBadge(comment.status)}\n                  </div>\n                  <span className=\"comment-date\">\n                    {formatDate(comment.createdAt)}\n                  </span>\n                </div>\n\n                <div className=\"comment-content\">\n                  {comment.content}\n                </div>\n\n                <div className=\"comment-actions\">\n                  {comment.status === 'PENDING' && (\n                    <>\n                      <button\n                        className=\"action-btn approve\"\n                        onClick={() => handleAction(comment.id, 'approve')}\n                        disabled={actionLoading[comment.id]}\n                      >\n                        {actionLoading[comment.id] === 'approve' ? 'Approving...' : 'Approve'}\n                      </button>\n                      <button\n                        className=\"action-btn reject\"\n                        onClick={() => handleAction(comment.id, 'reject')}\n                        disabled={actionLoading[comment.id]}\n                      >\n                        {actionLoading[comment.id] === 'reject' ? 'Rejecting...' : 'Reject'}\n                      </button>\n                    </>\n                  )}\n                  <button\n                    className=\"action-btn delete\"\n                    onClick={() => handleDelete(comment.id)}\n                    disabled={actionLoading[comment.id]}\n                  >\n                    {actionLoading[comment.id] === 'delete' ? 'Deleting...' : 'Delete'}\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentApproval;"],"names":["concat","BACKUP_API","COMMENTS_API","CommentApproval","pendingComments","setPendingComments","useState","allComments","setAllComments","activeTab","setActiveTab","loading","setLoading","error","setError","actionLoading","setActionLoading","fetchPendingComments","useCallback","async","response","axios","get","data","console","fetchAllComments","fetchComments","Promise","all","useEffect","handleAction","commentId","action","prev","_objectSpread","id","put","rejectComment","status","message","handleDelete","window","confirm","delete","getStatusBadge","statusClass","toLowerCase","_jsx","className","children","currentComments","_jsxs","onClick","length","map","comment","name","dateString","createdAt","Date","toLocaleDateString","year","month","day","hour","minute","content","_Fragment","disabled"],"ignoreList":[],"sourceRoot":""}