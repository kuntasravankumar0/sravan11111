{"version":3,"file":"static/js/39.62b58d98.chunk.js","mappings":"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","sources":["myproject/Adminpageall/admininfo/CreateAdminPopup.js","myproject/Adminpageall/admininfo/AdminLoginPage.js","api/auth/authApi.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./AdminPopups.css\";\nimport { adminRegister } from \"../../../api/auth/authApi\";\n\nfunction CreateAdminPopup({ closePopup }) {\n  const [adminname, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const createAdmin = async () => {\n    if (loading) return;\n\n    const cleanName = adminname.trim();\n    const cleanEmail = email.trim();\n    const cleanPassword = password.trim();\n\n    // ---------- VALIDATION ----------\n    if (!cleanName) return setMessage(\"⚠ Name is required\");\n    if (!cleanEmail) return setMessage(\"⚠ Email is required\");\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(cleanEmail))\n      return setMessage(\"⚠ Invalid email format\");\n\n    if (!cleanPassword)\n      return setMessage(\"⚠ Password is required\");\n\n    if (cleanPassword.length < 4)\n      return setMessage(\"⚠ Password must be at least 4 characters\");\n\n    setMessage(\"\");\n    setLoading(true);\n\n    try {\n      const res = await adminRegister({\n        adminname: cleanName,\n        email: cleanEmail,\n        password: cleanPassword,\n      });\n\n      setMessage(`✅ ${res.data}`);\n      setTimeout(() => closePopup(), 1200);\n    } catch (err) {\n      if (!err.response) {\n        setMessage(\"❌ Backend offline. Start Spring Boot server.\");\n      } else {\n        setMessage(err.response.data || \"❌ Something went wrong\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"popup-overlay\">\n      <div className=\"popup-card\">\n        <h3>Create Admin</h3>\n\n        {message && (\n          <div className={`popup-message ${message.startsWith(\"✅\") ? \"success\" : \"error\"}`}>\n            {message}\n          </div>\n        )}\n\n        <div className=\"popup-input-group\">\n          <input\n            placeholder=\"Name *\"\n            value={adminname}\n            onChange={(e) => {\n              setName(e.target.value);\n              setMessage(\"\");\n            }}\n            className=\"popup-input\"\n            disabled={loading}\n          />\n        </div>\n\n        <div className=\"popup-input-group\">\n          <input\n            placeholder=\"Email *\"\n            value={email}\n            onChange={(e) => {\n              setEmail(e.target.value);\n              setMessage(\"\");\n            }}\n            className=\"popup-input\"\n            disabled={loading}\n          />\n        </div>\n\n        <div className=\"popup-input-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Password *\"\n            value={password}\n            onChange={(e) => {\n              setPassword(e.target.value);\n              setMessage(\"\");\n            }}\n            className=\"popup-input\"\n            disabled={loading}\n          />\n        </div>\n\n        <div className=\"popup-actions\">\n          <button\n            onClick={createAdmin}\n            className=\"popup-btn-primary\"\n            disabled={loading}\n          >\n            {loading ? <div className=\"spinner\"></div> : \"Create Admin\"}\n          </button>\n\n          <button\n            onClick={closePopup}\n            className=\"popup-btn-secondary\"\n            disabled={loading}\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CreateAdminPopup;\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport CreateAdminPopup from \"./CreateAdminPopup\";\nimport \"./AdminLoginPage.css\";\nimport { adminLogin } from \"../../../api/auth/authApi\";\n\nfunction AdminLoginPage() {\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPopup, setShowPopup] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleLogin = async () => {\n    if (loading) return;\n    if (!email.trim() || !password.trim()) {\n      setMessage(\"⚠ Email and password are required\");\n      return;\n    }\n\n    setLoading(true);\n    setMessage(\"\");\n\n    try {\n      const res = await adminLogin({ email, password });\n      if (res.data.status) {\n        localStorage.setItem(\"adminLoggedIn\", \"true\");\n        setMessage(\"✅ Login successful\");\n        setTimeout(() => navigate(\"/AdminHome\", { replace: true }), 500);\n      }\n    } catch (err) {\n      const respData = err.response?.data;\n      const msg = typeof respData === 'string' ? respData : respData?.message;\n\n      if (msg === \"Your account was rejected\") setMessage(\"❌ Account REJECTED\");\n      else if (msg === \"Waiting for approval\") setMessage(\"⏳ PENDING approval\");\n      else if (msg === \"Invalid password\") setMessage(\"⚠ Invalid password\");\n      else if (msg === \"User not found\") setMessage(\"⚠ User not found\");\n      else setMessage(\"❌ Error: \" + (msg || \"Unknown\"));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"admin-login-page\">\n      <div className=\"admin-login-card\">\n        <h2>Admin Login</h2>\n        <p className=\"subtitle\">Secure access to administrative tools</p>\n\n        <div className=\"admin-login-form\">\n          <input\n            type=\"email\"\n            placeholder=\"Email Address\"\n            value={email}\n            onChange={(e) => {\n              setEmail(e.target.value);\n              setMessage(\"\");\n            }}\n            disabled={loading}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => {\n              setPassword(e.target.value);\n              setMessage(\"\");\n            }}\n            disabled={loading}\n          />\n          <button\n            className=\"btn btn-primary\"\n            onClick={handleLogin}\n            disabled={loading}\n          >\n            {loading ? <div className=\"spinner\"></div> : 'Sign In'}\n          </button>\n        </div>\n\n        {message && (\n          <div className={`message ${message.includes('✅') ? 'status-success' : 'status-error'}`}>\n            {message}\n          </div>\n        )}\n\n        <div className=\"footer-text\">\n          New admin?\n          <span className=\"link-text\" onClick={() => setShowPopup(true)}>\n            Create Account\n          </span>\n        </div>\n      </div>\n\n      {showPopup && (\n        <CreateAdminPopup closePopup={() => setShowPopup(false)} />\n      )}\n    </div>\n  );\n}\n\nexport default AdminLoginPage;\n","import axios from \"axios\";\r\nimport BACKUP_API from \"../../myproject/config/apiConfig\";\r\n\r\nconst GOOGLE_INFO_API = `${BACKUP_API}/api/googleinfo`;\r\nconst ADMIN_API = `${BACKUP_API}/api/Adminaprovel`;\r\n\r\n// Admin Auth\r\nexport const adminLogin = (data) => axios.post(`${ADMIN_API}/login`, data);\r\nexport const adminRegister = (data) => axios.post(`${ADMIN_API}/register`, data);\r\n\r\n// Google Auth APIs\r\nexport const syncGoogleUser = (data) => axios.post(`${GOOGLE_INFO_API}`, data); // Changed from /sync to base URL as per Refactoring\r\nexport const getGoogleUser = (googleId) => axios.get(`${GOOGLE_INFO_API}/${googleId}`);\r\nexport const getAllGoogleUsers = () => axios.get(`${GOOGLE_INFO_API}`);\r\nexport const deleteGoogleUser = (googleId) => axios.delete(`${GOOGLE_INFO_API}/${googleId}`);\r\n\r\n// Standard Auth (Aliases or Placeholders if needed)\r\nexport const login = adminLogin; // Defaulting to admin login if specific user login isn't separate\r\nexport const register = adminRegister;\r\nexport const logout = () => Promise.resolve({ data: { status: true, message: \"Logged out locally\" } }); \r\n"],"names":["_ref","closePopup","adminname","setName","useState","email","setEmail","password","setPassword","message","setMessage","loading","setLoading","_jsx","className","children","_jsxs","concat","startsWith","placeholder","value","onChange","e","target","disabled","type","onClick","async","cleanName","trim","cleanEmail","cleanPassword","test","length","res","adminRegister","data","setTimeout","err","response","navigate","useNavigate","showPopup","setShowPopup","adminLogin","status","localStorage","setItem","replace","_err$response","respData","msg","includes","CreateAdminPopup","GOOGLE_INFO_API","BACKUP_API","ADMIN_API","axios","post","syncGoogleUser","getAllGoogleUsers","get","deleteGoogleUser","googleId","delete"],"ignoreList":[],"sourceRoot":""}